---
title: 我花了 1 天，用 AI 做了一个失败的社区微信小程序
---


**我花了 1 天，用 AI 做了一个失败的社区微信小程序**

日期：2024-12-10

我前两天尝试用 AI 对话开发一个社区微信小程序（完全不写代码那种，我也没写过小程序），旨在支持活动报名和数字名片功能，但由于 bug 太多，不想继续浪费时间，最终不得不放弃。不过，我还是想分享一下这次失败的经验。

源码：https://github.com/Jackiexiao/community\_miniprogram（请原谅我瞎几把写的 commit 信息）

最终效果截图：修改成类苹果风的 UI

![](/images/one-day-failed-ai-wechat-community-miniprogram.001.png)

![](/images/one-day-failed-ai-wechat-community-miniprogram.002.png)

起初，我想创建一个 AI 创客社区的小程序，能够支持活动报名和数字名片。

我没有选择现有的活动报名程序，因为我希望用户在报名时能留下个人信息（不只是昵称和头像，还希望用户填写职业类别、组队需求等符合社区特征的信息），而且我想定制开发许多功能（比如 AI 自动匹配适合组队的伙伴，比如社区成员等级）。现有的程序无法满足我的需求，我希望它能成为一个集数字名片、活动报名和社区信息于一体的小程序，并且具备一些有趣的 AI 功能。因此，使用现成的小程序（比如取伙、活动行）并不可行。

尽管我找到了几个不错的社区小程序（比如 NCC 的游牧岛，做的非常的棒），但是定制价格较高，无法提供源码，不在我的考虑范围内。免费的知识星球又没有活动报名，也 pass。由于资金有限，我无法选择外包开发。我咨询过，如果要实现上述的功能，开发周期需要两个月，报价高达 10 万元。于是，我决定自己动手开发。然而，从头搭建一个小程序非常耗时。经过一番搜索，我找到一个开源的校友小程序，一开始看似功能齐全（我访问了它的 demo 小程序），我兴奋了一整晚，高呼我想要的功能全部实现了。

然而，这个小程序有个大坑，第二天查看源码，本地开发编译时，发现核心功能其实全被删掉了（只能说是非常典型的开源社区的问题，实际效果往往与宣传效果大相径庭）。它只留下了一些简单的功能，后端 API 全部被删掉，只留下一个提示：“该功能暂未实现，如需使用请联系作者付费。”而付费的价格我去问了一下：一年约 8000 块钱，续费约 3000 块钱，不提供源码，定制开发另外的价格。我心想，如果核心功能都被删掉了，那我可以用 AI 把它补回来。结果，这个想法一开始看似可行，但真正动手时才发现问题多得让人头疼。

首先，我完全没有开发过小程序。于是，我直接让 AI 开始盲目修改。然而，盲改过程中 bug 层出不穷。我用 Win dSurf 写代码，它总是乐观地更新，虽然把原作者删掉的核心功能补上了，但实际上程序根本跑不起来。不过，如果一点点地调试，不断让它修复，最终还是能运行的。这折磨了我大概五六个小时。

接下来，我觉得原生的 UI 太难看了。我可以给你看看原始 UI 和我修改后的效果。不过，不得不说，这个 UI 我改了很多次，过程中多次崩溃。崩溃的原因在于 AI 出现了一些让我特别头疼的 bug。

*原来的 UI*

![](/images/one-day-failed-ai-wechat-community-miniprogram.003.png)

第一个问题是它会使用微信小程序过时的 API，比如获取昵称。微信小程序之前可以一次性获取昵称和头像，但现在 API 已经更新，必须分别获取。当我指出错误时，它才说：“不好意思，现在微信改了 API。”

第二个问题是它经常无法正确获取代码的上下文。由于微信小程序的代码文件特别多，CSS、HTML、JS 都在一个文件中，当我让它修改前端时，它有时不会去找后端对应的 API，而是随意编写一个不存在的 API 或字段。

第三个问题是，由于没有正确获取上下文，它会重复写代码，产生很多冗余代码，把已有功能又重新写一遍。而且，它经常会过度修改，比如我只想让它改 UI，它却把功能和文字也改了。

第四个问题是，它经常不按预期修改。打个比方，某个 API 需要 10 个参数，AI 写的时候有 3 个是正确的，另外 7 个是错的，很蛋疼，它不会自动一次性全修复。于是，我需要和它对话 7 轮才能解决问全部参数问题。如果是这样就好了。对话结束后，它可能又把第一个变量名改错了，反复在相同的错误上纠缠。AI 在进行多次修改后，很容易把格式弄得越来越混乱。如果没有良好的版本控制，这简直让人崩溃。

第五个问题是，AI 很容易陷入代码实现的死胡同。起初，它可能只是犯了一个简单的错误，但在多次反思后，它会提出一个更复杂更 bug 的方案。

考虑到微信小程序后续的维护成本（我不太想学习微信小程序的原生写法）。加上现有代码还存在许多 bug，我决定停止继续修改这个小程序，彻底放弃。现在开源的部分的简单功能是可以运行的，但还有许多的 bug，用 AI 改到可用估计还要花很多时间。我很痛的教训是如果你要修改一个现成的仓库，最好用 AI 先分析一下现成的仓库的代码，你理解完总体架构再让 AI 开始修改，否则很容易被 AI 带跑偏。

放弃原生小程序吼，我转而寻找 uniapp 和 Taro。uniapp 使用的是 Vue（懒，不想学 orz），而且 uniapp 的官方网页设计也不够美观，所以我决定使用支持 React（我会一点）的 Taro，Taro 官方文档也非常整洁清晰（没错，第一印象在我这很重要）。然而，当我打算开始开发时，询问了一下朋友，他们告诉我，现在微信小程序可以通过 Web View 嵌入网页的方式实现。注意这需要企业备案才能使用 Web View。这样一来，我就不必专门为了开发小程序而去学习小程序的原生开发。我可以开发一个网站，然后通过 Web View 的方式将这个网站嵌入到小程序中。这就是我后续计划采用的方案，我打算使用 Next.js 和 T3 技术栈。

总的来说，我用 AI 在别人的代码基础上做了一个非常不成功的尝试，完成度可能只有百分之二三十。虽然它的 UI 看起来还可以（我让 AI 参考苹果风格帮我修改），但功能上非常欠缺，存在许多 bug。最终，我决定放弃这个方案，转而开发网站，并通过 Web View 的方式实现我们的社区小程序。

