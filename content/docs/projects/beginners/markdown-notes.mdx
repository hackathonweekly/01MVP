---
title: 极简Markdown笔记工具
description: 构建一个支持Markdown格式的简易笔记应用
---

# 构建极简Markdown笔记工具

在本教程中，我们将创建一个轻量级的Markdown笔记应用。这个应用允许用户以Markdown格式编写笔记，并实时预览渲染后的效果。与待办事项应用类似，我们将使用浏览器的本地存储功能来保存笔记数据。

```
![Markdown笔记应用截图](/images/docs/projects/markdown-notes-screenshot.png)
```

## 项目概述

**预计完成时间**: 3-4小时  
**难度等级**: ⭐⭐☆☆☆ (入门级+)  
**前置知识**: 基础HTML、CSS和JavaScript  
**项目目标**: 创建一个支持Markdown语法的笔记应用，具备实时预览功能

### 你将学到什么

- HTML/CSS/JavaScript的进阶应用
- 第三方库的集成与使用
- 实时文本转换处理
- 本地存储的管理
- 用户界面的结构设计

### 完成项目后的成果

一个功能完善的Markdown笔记工具，包含以下功能：
- 创建、编辑和删除笔记
- Markdown实时预览
- 笔记列表管理
- 自动保存功能
- 响应式设计，适应移动设备

## 开发环境准备

这个项目需要以下工具：

1. 代码编辑器（推荐Visual Studio Code或Cursor）
2. 现代浏览器（Chrome、Firefox或Edge）
3. 互联网连接（用于获取Markdown解析库）

我们将使用以下第三方库：
- [marked.js](https://marked.js.org/) - 用于Markdown解析
- [highlight.js](https://highlightjs.org/) (可选) - 用于代码语法高亮

## 项目结构

我们将创建以下文件结构：

```
markdown-notes/
├── index.html    # HTML结构
├── style.css     # 样式表
└── script.js     # JavaScript逻辑
```

## 步骤1：创建基础HTML结构

首先，创建一个新文件夹`markdown-notes`，然后在其中创建`index.html`文件：

```html
<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Markdown笔记本</title>
    <link rel="stylesheet" href="style.css">
    <!-- Marked库用于解析Markdown -->
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <!-- Highlight.js用于代码高亮 (可选) -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@11.7.0/styles/github.min.css">
    <script src="https://cdn.jsdelivr.net/npm/highlight.js@11.7.0/lib/highlight.min.js"></script>
</head>
<body>
    <div class="container">
        <div class="sidebar">
            <div class="sidebar-header">
                <h2>我的笔记</h2>
                <button id="new-note-btn">新建笔记</button>
            </div>
            <div class="notes-list" id="notes-list">
                <!-- 笔记列表将在这里动态显示 -->
            </div>
        </div>
        
        <div class="content">
            <div class="editor-container">
                <div class="editor-header">
                    <input type="text" id="note-title" placeholder="笔记标题">
                    <div class="editor-actions">
                        <button id="save-btn">保存</button>
                        <button id="delete-btn">删除</button>
                    </div>
                </div>
                <div class="editor-body">
                    <div class="markdown-input">
                        <textarea id="markdown-editor" placeholder="在此输入Markdown内容..."></textarea>
                    </div>
                    <div class="preview" id="markdown-preview">
                        <!-- 预览将在这里显示 -->
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <script src="script.js"></script>
</body>
</html>
```

这个HTML文件引入了必要的库，并创建了一个包含侧边栏（笔记列表）和主内容区域（编辑器和预览）的基本结构。

## 步骤2：添加CSS样式

在同一文件夹中创建`style.css`文件：

```css
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: 'Arial', sans-serif;
    line-height: 1.6;
    color: #333;
    background-color: #f8f9fa;
    height: 100vh;
    overflow: hidden;
}

.container {
    display: flex;
    height: 100vh;
}

/* 侧边栏样式 */
.sidebar {
    width: 250px;
    background-color: #f0f0f0;
    border-right: 1px solid #ddd;
    display: flex;
    flex-direction: column;
    overflow: hidden;
}

.sidebar-header {
    padding: 15px;
    border-bottom: 1px solid #ddd;
    display: flex;
    flex-direction: column;
    gap: 10px;
}

.sidebar-header h2 {
    font-size: 1.2rem;
    color: #333;
}

#new-note-btn {
    padding: 8px;
    background-color: #4CAF50;
    color: white;
    border: none;
    border-radius: 4px;
    cursor: pointer;
    font-size: 14px;
}

#new-note-btn:hover {
    background-color: #45a049;
}

.notes-list {
    flex: 1;
    overflow-y: auto;
}

.note-item {
    padding: 12px 15px;
    border-bottom: 1px solid #ddd;
    cursor: pointer;
    transition: background-color 0.2s;
}

.note-item:hover {
    background-color: #e9e9e9;
}

.note-item.active {
    background-color: #e0e0e0;
    border-left: 4px solid #4CAF50;
}

.note-item h3 {
    font-size: 1rem;
    margin-bottom: 5px;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

.note-item p {
    font-size: 0.8rem;
    color: #777;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

/* 内容区域样式 */
.content {
    flex: 1;
    display: flex;
    flex-direction: column;
    overflow: hidden;
}

.editor-container {
    flex: 1;
    display: flex;
    flex-direction: column;
    overflow: hidden;
}

.editor-header {
    padding: 15px;
    border-bottom: 1px solid #ddd;
    display: flex;
    justify-content: space-between;
    align-items: center;
    background-color: #fff;
}

#note-title {
    flex: 1;
    padding: 8px;
    border: 1px solid #ddd;
    border-radius: 4px;
    font-size: 1rem;
}

.editor-actions {
    display: flex;
    gap: 10px;
}

.editor-actions button {
    padding: 8px 12px;
    border: none;
    border-radius: 4px;
    cursor: pointer;
    font-size: 14px;
}

#save-btn {
    background-color: #4CAF50;
    color: white;
}

#save-btn:hover {
    background-color: #45a049;
}

#delete-btn {
    background-color: #f44336;
    color: white;
}

#delete-btn:hover {
    background-color: #d32f2f;
}

.editor-body {
    flex: 1;
    display: flex;
    overflow: hidden;
}

.markdown-input, .preview {
    flex: 1;
    padding: 15px;
    overflow-y: auto;
    height: 100%;
}

.markdown-input {
    background-color: #fff;
    border-right: 1px solid #ddd;
}

#markdown-editor {
    width: 100%;
    height: 100%;
    border: none;
    resize: none;
    font-family: 'Courier New', monospace;
    font-size: 1rem;
    line-height: 1.6;
    outline: none;
}

.preview {
    background-color: #fff;
    padding: 20px;
}

/* Markdown预览样式 */
.preview h1, .preview h2, .preview h3, 
.preview h4, .preview h5, .preview h6 {
    margin-top: 1em;
    margin-bottom: 0.5em;
    line-height: 1.2;
}

.preview h1 {
    font-size: 2em;
    border-bottom: 1px solid #eaecef;
    padding-bottom: 0.3em;
}

.preview h2 {
    font-size: 1.5em;
    border-bottom: 1px solid #eaecef;
    padding-bottom: 0.3em;
}

.preview p {
    margin-bottom: 1em;
}

.preview pre {
    background-color: #f6f8fa;
    border-radius: 3px;
    padding: 16px;
    overflow: auto;
    font-family: 'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, monospace;
    font-size: 85%;
    margin-bottom: 16px;
}

.preview code {
    background-color: rgba(27, 31, 35, 0.05);
    border-radius: 3px;
    font-size: 85%;
    margin: 0;
    padding: 0.2em 0.4em;
    font-family: 'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, monospace;
}

.preview pre code {
    background-color: transparent;
    padding: 0;
}

.preview blockquote {
    padding: 0 1em;
    color: #6a737d;
    border-left: 0.25em solid #dfe2e5;
    margin-bottom: 16px;
}

.preview ul, .preview ol {
    padding-left: 2em;
    margin-bottom: 16px;
}

.preview img {
    max-width: 100%;
}

.preview table {
    border-collapse: collapse;
    width: 100%;
    margin-bottom: 16px;
}

.preview table th, .preview table td {
    padding: 6px 13px;
    border: 1px solid #dfe2e5;
}

.preview table tr {
    background-color: #fff;
    border-top: 1px solid #c6cbd1;
}

.preview table tr:nth-child(2n) {
    background-color: #f6f8fa;
}

/* 响应式设计 */
@media screen and (max-width: 768px) {
    .container {
        flex-direction: column;
    }
    
    .sidebar {
        width: 100%;
        height: 200px;
        border-right: none;
        border-bottom: 1px solid #ddd;
    }
    
    .editor-body {
        flex-direction: column;
    }
    
    .markdown-input, .preview {
        width: 100%;
        height: 50%;
    }
    
    .markdown-input {
        border-right: none;
        border-bottom: 1px solid #ddd;
    }
}
```

这些CSS样式创建了一个简洁、现代的界面，包括侧边栏笔记列表和主要的编辑/预览区域，并且支持响应式设计。

## 步骤3：实现JavaScript功能

现在创建`script.js`文件，实现应用的核心逻辑：

```javascript
// 配置marked库
marked.setOptions({
    breaks: true,  // 将换行符转换为<br>
    highlight: function(code, lang) {
        // 如果引入了highlight.js，则启用代码高亮
        if (hljs && lang && hljs.getLanguage(lang)) {
            return hljs.highlight(code, { language: lang }).value;
        }
        return code;
    }
});

// 获取DOM元素
const notesList = document.getElementById('notes-list');
const newNoteBtn = document.getElementById('new-note-btn');
const noteTitleInput = document.getElementById('note-title');
const markdownEditor = document.getElementById('markdown-editor');
const markdownPreview = document.getElementById('markdown-preview');
const saveBtn = document.getElementById('save-btn');
const deleteBtn = document.getElementById('delete-btn');

// 应用状态
let notes = [];
let activeNoteId = null;

// 初始化应用
function initApp() {
    // 从本地存储加载笔记
    const savedNotes = localStorage.getItem('markdown-notes');
    if (savedNotes) {
        notes = JSON.parse(savedNotes);
        renderNotesList();
    }
    
    // 如果笔记列表为空，创建一个欢迎笔记
    if (notes.length === 0) {
        createWelcomeNote();
    } else {
        // 选择第一个笔记
        selectNote(notes[0].id);
    }
    
    // 添加事件监听器
    newNoteBtn.addEventListener('click', createNewNote);
    markdownEditor.addEventListener('input', updatePreview);
    saveBtn.addEventListener('click', saveNote);
    deleteBtn.addEventListener('click', deleteNote);
    noteTitleInput.addEventListener('change', updateNoteTitle);
}

// 创建欢迎笔记
function createWelcomeNote() {
    const welcomeNote = {
        id: Date.now(),
        title: '欢迎使用Markdown笔记',
        content: `# 欢迎使用Markdown笔记应用！

这是一个简单的Markdown编辑器，支持大多数常用的Markdown语法。

## Markdown基础语法

### 标题
使用 \`#\` 号来标记标题，例如：
# 一级标题
## 二级标题
### 三级标题

### 强调
**粗体文本** 或 __粗体文本__
*斜体文本* 或 _斜体文本_
~~删除线~~

### 列表
无序列表：
- 项目1
- 项目2
- 项目3

有序列表：
1. 第一项
2. 第二项
3. 第三项

### 链接和图片
[链接文本](https://www.example.com)
![图片描述](图片URL)

### 代码
行内代码：\`code\`

代码块：
\`\`\`javascript
function hello() {
  console.log('Hello, world!');
}
\`\`\`

### 引用
> 这是一段引用文本

### 表格
| 表头1 | 表头2 |
|-------|-------|
| 单元格1 | 单元格2 |
| 单元格3 | 单元格4 |

### 分割线
---

## 开始使用
- 使用左侧的"新建笔记"按钮创建新笔记
- 在编辑器中使用Markdown编写内容
- 右侧会实时显示预览效果
- 记得点击"保存"按钮保存您的笔记

祝您使用愉快！`,
        createdAt: new Date().toISOString()
    };
    
    notes.push(welcomeNote);
    saveNotes();
    renderNotesList();
    selectNote(welcomeNote.id);
}

// 渲染笔记列表
function renderNotesList() {
    notesList.innerHTML = '';
    
    // 按创建时间降序排序笔记
    const sortedNotes = [...notes].sort((a, b) => {
        return new Date(b.createdAt) - new Date(a.createdAt);
    });
    
    sortedNotes.forEach(note => {
        const noteElement = document.createElement('div');
        noteElement.className = `note-item ${note.id === activeNoteId ? 'active' : ''}`;
        noteElement.dataset.id = note.id;
        
        // 获取预览文本（笔记内容的前60个字符）
        const previewText = note.content.replace(/[#*`\[\]]/g, '').substring(0, 60) + '...';
        
        noteElement.innerHTML = `
            <h3>${note.title || '无标题笔记'}</h3>
            <p>${previewText}</p>
        `;
        
        noteElement.addEventListener('click', () => selectNote(note.id));
        notesList.appendChild(noteElement);
    });
}

// 选择笔记
function selectNote(noteId) {
    activeNoteId = noteId;
    
    const selectedNote = notes.find(note => note.id === noteId);
    if (selectedNote) {
        noteTitleInput.value = selectedNote.title || '';
        markdownEditor.value = selectedNote.content || '';
        updatePreview();
    }
    
    // 更新笔记列表UI
    document.querySelectorAll('.note-item').forEach(item => {
        if (parseInt(item.dataset.id) === noteId) {
            item.classList.add('active');
        } else {
            item.classList.remove('active');
        }
    });
}

// 创建新笔记
function createNewNote() {
    const newNote = {
        id: Date.now(),
        title: '新笔记',
        content: '',
        createdAt: new Date().toISOString()
    };
    
    notes.push(newNote);
    saveNotes();
    renderNotesList();
    selectNote(newNote.id);
    noteTitleInput.focus();
}

// 更新笔记预览
function updatePreview() {
    // 获取当前编辑器内容并转换为HTML
    const content = markdownEditor.value;
    const html = marked.parse(content);
    
    // 更新预览区域
    markdownPreview.innerHTML = html;
    
    // 执行代码高亮
    if (window.hljs) {
        document.querySelectorAll('pre code').forEach(block => {
            hljs.highlightBlock(block);
        });
    }
    
    // 自动保存（防抖）
    clearTimeout(window.saveTimeout);
    window.saveTimeout = setTimeout(() => {
        if (activeNoteId) {
            const activeNote = notes.find(note => note.id === activeNoteId);
            if (activeNote) {
                activeNote.content = content;
                saveNotes();
                renderNotesList();
            }
        }
    }, 500);
}

// 更新笔记标题
function updateNoteTitle() {
    if (activeNoteId) {
        const activeNote = notes.find(note => note.id === activeNoteId);
        if (activeNote) {
            activeNote.title = noteTitleInput.value;
            saveNotes();
            renderNotesList();
        }
    }
}

// 保存当前笔记
function saveNote() {
    if (activeNoteId) {
        const activeNote = notes.find(note => note.id === activeNoteId);
        if (activeNote) {
            activeNote.title = noteTitleInput.value;
            activeNote.content = markdownEditor.value;
            saveNotes();
            renderNotesList();
            
            // 显示保存成功的提示
            const saveBtn = document.getElementById('save-btn');
            const originalText = saveBtn.textContent;
            saveBtn.textContent = '已保存！';
            saveBtn.disabled = true;
            
            setTimeout(() => {
                saveBtn.textContent = originalText;
                saveBtn.disabled = false;
            }, 1500);
        }
    }
}

// 删除当前笔记
function deleteNote() {
    if (activeNoteId) {
        if (notes.length <= 1) {
            alert('至少需要保留一个笔记！');
            return;
        }
        
        if (confirm('确定要删除这个笔记吗？')) {
            // 找到当前选中笔记的索引
            const activeIndex = notes.findIndex(note => note.id === activeNoteId);
            
            // 从数组中删除笔记
            notes = notes.filter(note => note.id !== activeNoteId);
            saveNotes();
            
            // 选择下一个笔记（如果删除的是最后一个，则选择前一个）
            const nextIndex = activeIndex < notes.length ? activeIndex : notes.length - 1;
            renderNotesList();
            selectNote(notes[nextIndex].id);
        }
    }
}

// 保存所有笔记到本地存储
function saveNotes() {
    localStorage.setItem('markdown-notes', JSON.stringify(notes));
}

// 初始化应用
document.addEventListener('DOMContentLoaded', initApp);
```

这段JavaScript代码实现了Markdown笔记应用的所有核心功能：
- 创建、选择、编辑和删除笔记
- 实时预览Markdown内容
- 保存笔记数据到本地存储
- 提供一个欢迎笔记来展示Markdown功能

## 步骤4：测试应用

现在你可以通过以下方式在浏览器中打开你的应用：

1. 在文件浏览器中，双击`index.html`文件
2. 或者使用VS Code的Live Server插件启动应用

测试以下功能：
- 创建新笔记
- 编辑笔记内容，查看Markdown实时预览
- 保存笔记并验证是否在笔记列表中更新
- 删除笔记
- 刷新页面，确认所有笔记数据被正确保存
- 尝试各种Markdown语法元素，如标题、列表、代码块等

## 步骤5：部署应用

与待办事项应用类似，你可以通过以下方式部署你的Markdown笔记应用：

### 选项1：GitHub Pages（免费）

1. 创建一个GitHub账号（如果还没有）
2. 创建一个新的仓库
3. 上传你的项目文件
4. 在仓库设置中启用GitHub Pages

### 选项2：Netlify（免费）

1. 创建一个Netlify账号
2. 选择"从文件夹上传新站点"
3. 拖放你的项目文件夹
4. 等待部署完成

### 选项3：Vercel（免费）

1. 创建一个Vercel账号
2. 创建新项目并选择"从文件夹导入"
3. 上传你的项目文件
4. 等待部署完成

## 项目拓展思路

以下是一些你可以添加到项目中的拓展功能：

1. **文件夹/分类系统**：允许用户将笔记组织到不同的文件夹中
2. **标签系统**：添加标签管理功能
3. **搜索功能**：实现笔记内容搜索
4. **主题切换**：添加深色模式和自定义主题
5. **导出功能**：支持将笔记导出为Markdown、HTML或PDF文件
6. **云同步**：集成第三方服务实现云端存储和同步
7. **Markdown工具栏**：添加常用Markdown格式化按钮
8. **拖放图片**：支持拖放图片到编辑器并自动转换为Markdown图片语法

## 总结

恭喜！你已经成功构建了一个功能完整的Markdown笔记应用。通过这个项目，你学习了：

- 如何集成和使用第三方JavaScript库
- 如何实现实时文本转换和预览
- 如何创建分屏界面布局
- 如何管理和组织多个笔记
- 如何使用本地存储保存复杂数据
- 如何处理文本编辑和格式化

这个项目是Web开发中级水平的良好实践，它结合了UI设计、数据管理和第三方库集成等多方面的技能。

## 常见问题解答

**Q: 我使用的Markdown语法在预览中没有正确显示怎么办？**  
A: 检查Marked.js的配置选项，有些高级Markdown功能可能需要额外的插件或配置。

**Q: 如何添加更多的代码语言高亮支持？**  
A: Highlight.js默认支持常见的编程语言。如果需要特定语言支持，可以从其官网下载完整版或定制版。

**Q: 笔记数据会永久保存吗？**  
A: 数据保存在浏览器的localStorage中，清除浏览器数据会删除这些笔记。考虑添加导出功能或云同步来备份重要笔记。

**Q: 我想在移动设备上使用这个应用，应该如何优化？**  
A: CSS中已包含基本的响应式设计。可以考虑进一步优化移动体验，如添加触摸手势支持和改进小屏幕布局。

**下一步学习**：尝试我们的[简易计算器应用](/docs/projects/beginners/calculator)教程，学习如何处理数学运算和构建交互式工具！ 